/* Animated Background */
body { 
    background: linear-gradient(-45deg, #1a3a16, #2d5a27, #0f2210, #1e3c1b);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    margin: 0; 
    height: 100vh; 
    color: white; 
    font-family: 'Arial Black', sans-serif; 
    overflow: hidden; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* UI Structure */
#game-ui { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; transition: opacity 0.5s; }
#table { display: flex; justify-content: center; align-items: center; gap: 80px; margin-top: 40px; }
#status-bar { text-align: center; margin-top: 20px; z-index: 10; }

/* Message Box */
#msg-box {
    background: rgba(0,0,0,0.5);
    padding: 10px 20px;
    border-radius: 20px;
    margin-top: 10px;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s;
}
#msg-box.visible { opacity: 1; }

/* Card Styles */
.card { width: 110px; border-radius: 10px; transition: transform 0.2s; user-select: none; }
.shadow { box-shadow: 0 10px 20px rgba(0,0,0,0.5); }

/* Animation Layer for flying cards */
#animation-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 1000;
}
.flying-card {
    position: absolute; width: 110px; border-radius: 10px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.5);
    transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}

/* Hand Centering (The Fix) */
#hand-container {
    position: fixed; bottom: 40px; width: 100%;
    display: flex; justify-content: center; pointer-events: none;
}
#hand {
    display: flex; justify-content: center; align-items: flex-end;
    padding: 0 50px; pointer-events: auto;
}
#hand .card { 
    margin-left: -50px; 
    transition: transform 0.2s, filter 0.2s;
}
#hand .card:first-child { margin-left: 0; }
#hand .card:hover { 
    transform: translateY(-40px) scale(1.1); 
    filter: brightness(1.2); z-index: 100;
}

/* Animations */
@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    50% { transform: translateX(10px); }
    75% { transform: translateX(-10px); }
    100% { transform: translateX(0); }
}
.shake-anim { animation: shake 0.4s ease-in-out; }

@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }
    50% { transform: scale(1.1); box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); }
    100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }
}
.pulse-text { animation: pulse 1s infinite; }

/* Deck & Discard */
#deck-container {
    display: flex; flex-direction: column; align-items: center; gap: 10px;
    transition: transform 0.2s; cursor: pointer;
}
#deck-container:active { transform: scale(0.95); }
.draw-btn {
    background: #e74c3c; padding: 10px 20px; font-weight: bold; border-radius: 5px;
    border: none; color: white; cursor: pointer;
}

/* Overlay */
.overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); display: flex; flex-direction: column;
    justify-content: center; align-items: center; z-index: 2000;
    transition: opacity 0.5s; opacity: 1; pointer-events: auto;
}
.overlay.hidden { opacity: 0; pointer-events: none; }
.colors { display: flex; gap: 20px; }
.color-btn { width: 80px; height: 80px; border-radius: 50%; border: 4px solid white; cursor: pointer; }
.red { background: #ff5555; }
.blue { background: #5555ff; }
.green { background: #55aa55; }
.yellow { background: #ffaa00; }

.hover-pop { transition: transform 0.1s; }
.hover-pop:hover { transform: scale(1.1); }
